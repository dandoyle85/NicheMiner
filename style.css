:root{
  --bg:#0b1016; --panel:#111a22; --line:#1f2a35; --text:#d6e6ff;
  --muted:#8aa0b8; --accent:#5ae3ff; --good:#2ecb70; --bad:#ff6464; --warn:#ffd166;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font:15px/1.5 ui-sans-serif,system-ui,Segoe UI,Roboto,Arial}
.topbar{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-bottom:1px solid var(--line);background:linear-gradient(180deg,#0e141b,#0b1016)}
.brand{font-weight:700;letter-spacing:.4px}
.spacer{flex:1}
.toggle{display:flex;align-items:center;gap:.5rem;color:var(--muted)}
.toggle input{width:18px;height:18px}

.container{max-width:1100px;margin:1rem auto;padding:0 1rem}
.card{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:1rem;box-shadow:0 8px 40px rgba(0,0,0,.25)}
.card-head{display:flex;align-items:center;gap:1rem;justify-content:space-between}
.card-head h1{margin:0;font-size:1.2rem}
.actions{display:flex;gap:.5rem}
input{background:#0d151d;border:1px solid var(--line);color:var(--text);border-radius:8px;padding:.5rem .6rem}
.btn{appearance:none;cursor:pointer;border:1px solid var(--line);background:#0f1720;color:var(--text);padding:.45rem .7rem;border-radius:.5rem}
.btn-accent{border-color:#1b3a43;background:#0d1b20;color:var(--accent)}
.btn-ghost{border-color:transparent;background:transparent;color:var(--muted)}

.niche-item{border-top:1px solid var(--line);padding:.8rem .4rem}
.niche-head{display:flex;align-items:center;gap:.6rem;cursor:pointer}
.niche-title{font-weight:600}
.niche-meta{color:var(--muted);font-size:.9em}
.kwd-table{margin:.5rem 0 0;border:1px solid var(--line);border-radius:10px;overflow:hidden}
.kwd-row,.kwd-head{display:grid;grid-template-columns:1.3fr 90px 100px 80px 1fr;gap:0;border-bottom:1px solid var(--line)}
.kwd-head>div,.kwd-row>div{padding:.5rem .6rem}
.kwd-head{background:#0e151c;color:#9fb4cb;font-weight:600}
.kwd-row:nth-child(even){background:#0e151c}

.pill{display:inline-block;border:1px solid var(--line);color:var(--muted);padding:.15rem .4rem;border-radius:999px}
.pill-gpt{color:#c792ea;border-color:#3a2c48}

.drawer{position:fixed;right:1rem;bottom:1rem;width:min(520px,94vw);max-height:70vh;background:var(--panel);
  border:1px solid var(--line);border-radius:12px;transform:translateY(110%);transition:transform .28s ease;box-shadow:0 -20px 60px rgba(0,0,0,.45);}
.drawer.open{transform:translateY(0)}
.drawer-head{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid var(--line)}
.debug-fab,.coach-fab{position:fixed;right:1rem;bottom:1rem;border-radius:50%;width:44px;height:44px;display:grid;place-items:center;border:1px solid var(--line);background:#0f1720;color:#bbb;box-shadow:0 8px 30px rgba(0,0,0,.35)}
.coach-fab{right:4.25rem;color:var(--accent)}
.debug-list{max-height:50vh;overflow:auto;padding:1rem}
.debug-item{display:grid;grid-template-columns:1fr 72px auto;gap:.75rem;padding:.4rem 0;border-bottom:1px dashed var(--line)}
.debug-item:last-child{border-bottom:0}
.coach-body{padding:1rem;display:grid;gap:1rem}
.coach-block{border:1px solid var(--line);border-radius:10px;padding:.8rem;background:#0e161e}
.coach-title{font-weight:600;margin-bottom:.4rem}
textarea{width:100%}