:root{--bg:#07131a;--panel:#0f2324;--muted:#8fb2c6;--text:#e7f5f9;--accent:#22d3ee;--accent2:#14b8a6;--line:#15323a;--danger:#ef4444;--ok:#34d399}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:500 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto}
html,body{overflow-x:hidden}
.topbar{position:sticky;top:0;z-index:30;background:#081a1f;border-bottom:1px solid var(--line);display:flex;justify-content:space-between;align-items:center;padding:10px 12px}
.brand{font-weight:800;letter-spacing:.2px}
.tabs{display:flex;gap:6px}
.tab{background:#0c1f24;border:1px solid var(--line);color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer}
.tab.active{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#052329;border-color:transparent}
.view{display:none;padding:12px}.view.active{display:block}
.panel{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:12px;margin:10px 0;box-shadow:0 12px 34px rgba(0,0,0,.35)}
.row{display:flex;align-items:center}.between{justify-content:space-between}.wrap{flex-wrap:wrap}.g8{gap:8px}.g10{gap:10px}.center{text-align:center}.right{justify-content:flex-end}
.input{background:#0a1d22;border:1px solid var(--line);color:#e7f5f9;border-radius:10px;padding:10px 12px;min-width:0}
.input.small{max-width:220px}
.btn{background:#0a1d22;border:1px solid var(--line);color:#e7f5f9;border-radius:10px;padding:9px 12px;cursor:pointer}.btn:hover{border-color:#244a55}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));border:0;color:#06222a}.btn.ghost{background:transparent;border:1px dashed var(--line)}
.muted{color:#9fc1cd}.badge{background:#0d2a2f;border:1px solid var(--line);padding:2px 8px;border-radius:999px;color:#7fcbd6}
.card{background:#0b1f24;border:1px solid var(--line);border-radius:12px;padding:10px}
.lbl{display:block;font-size:13px;color:#9abecb}.mt8{margin-top:8px}.mt12{margin-top:12px}.mt16{margin-top:16px}
.niche-list{list-style:none;margin:8px 0 0;padding:0;display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.niche-list li{display:flex;justify-content:space-between;gap:8px;align-items:center;background:#0a1e22;border:1px solid var(--line);border-radius:12px;padding:8px 10px}
.niche-list li .txt{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:60vw}
/* Collapsible list */
.kw-list{list-style:none;margin:0;padding:0;display:grid;gap:8px}
.kw-item{background:#0a1f23;border:1px solid var(--line);border-radius:12px;overflow:hidden}
.kw-head{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:10px}
.kw-title{font-weight:800;min-width:0;flex:1}
.kw-meta{display:flex;gap:6px;flex-wrap:wrap;align-items:center}
.chev{transform:rotate(0deg);transition:transform .2s ease}
.kw-item.open .chev{transform:rotate(90deg)}
.kw-body{grid-template-rows:0fr;display:grid;transition:grid-template-rows .22s ease}
.kw-item.open .kw-body{grid-template-rows:1fr}
.kw-inner{overflow:hidden}
.kw-related{display:flex;flex-direction:column;gap:6px;padding:0 10px 10px}
.rel-row{display:flex;gap:6px;justify-content:space-between;align-items:center;background:#0b2227;border:1px solid var(--line);border-radius:10px;padding:8px 10px}
.spinner{width:18px;height:18px;border:2px solid #1b3640;border-top-color:#22d3ee;border-radius:50%;animation:spin 1s linear infinite}.hidden{display:none}@keyframes spin{to{transform:rotate(360deg)}}
.output{width:100%;min-height:360px;background:#0a1d22;border:1px solid var(--line);border-radius:12px;color:#e7f5f9;padding:10px;resize:vertical}
.img-strip{display:flex;gap:8px;overflow:auto}.img-strip img{height:84px;border-radius:10px;border:1px solid var(--line)}
.switch{position:relative;display:inline-block;width:44px;height:24px}.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#0d2025;border:1px solid var(--line);transition:.2s;border-radius:999px}
.slider:before{content:'';position:absolute;height:18px;width:18px;left:2px;bottom:2px;background:#254249;border-radius:50%;transition:.2s}
.switch input:checked + .slider{background:#0f2d33}.switch input:checked + .slider:before{transform:translateX(20px);background:#22d3ee}
.kpis{display:flex;gap:10px;flex-wrap:wrap}
.kpi{flex:1 1 120px;background:#0a1f23;border:1px solid var(--line);border-radius:12px;padding:10px;text-align:center}
.kpi-val{font-size:20px;font-weight:800}
.foot{padding:16px;color:#8fb2c6;text-align:center;border-top:1px solid var(--line);margin-top:20px}
.drawer{position:fixed;inset:0;display:grid;grid-template-rows:auto 1fr;background:rgba(0,0,0,.4);backdrop-filter:blur(2px);translate:0 100%;transition:translate .25s ease;z-index:40}
.drawer.open{translate:0 0}
.drawer-head{display:flex;justify-content:space-between;align-items:center;background:#0d2327;border-bottom:1px solid var(--line);padding:10px 12px}
.drawer-body{background:#0f2324;padding:12px;overflow:auto}
.icon{border:1px solid var(--line);background:#0c2122;color:#e7f5f9;border-radius:10px;padding:8px 10px;cursor:pointer}
.fab{position:fixed;bottom:18px;right:18px;z-index:45;width:52px;height:52px;border-radius:16px;background:var(--accent2);color:#052329;border:0;box-shadow:0 6px 18px rgba(0,0,0,.4);font-size:20px;cursor:pointer}
@media(min-width:720px){.niche-list{grid-template-columns:repeat(3,1fr)}}
