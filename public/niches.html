<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>NicheMiner — Stable Data Overdrive</title>
  <link rel="stylesheet" href="/public/css/theme.css"/>
</head>
<body class="dark">
  <header class="top">
    <div class="brand"><span class="dot"></span> NicheMiner</div>
    <div class="actions">
      <button id="refreshBtn" class="btn ghost">↻ Refresh</button>
    </div>
  </header>

  <main class="wrap">
    <section class="panel">
      <div class="row-between">
        <h2>🔥 Top 15 Profitable Niches (Live)</h2>
        <span id="scanStatus" class="muted">Idle</span>
      </div>
      <div class="pills" id="statusPills"></div>
      <table class="table">
        <thead>
          <tr><th>#</th><th>Niche</th><th>Score</th><th>Buyer Intent</th><th>Trend</th></tr>
        </thead>
        <tbody id="nichesTbody">
          <tr><td colspan="5" class="muted">Press Refresh to fetch live niches.</td></tr>
        </tbody>
      </table>
    </section>

    <section class="panel" id="drillPanel" hidden>
      <div class="row-between">
        <h2 id="drillTitle">🔎 Keyword Drilldown</h2>
        <button id="openCoach" class="btn ghost">Open AI Coach</button>
      </div>
      <table class="table">
        <thead>
          <tr><th>Keyword</th><th>Source</th><th>Volume</th><th>Competition</th><th>Trend</th></tr>
        </thead>
        <tbody id="kwTbody"></tbody>
      </table>
    </section>
  </main>

  <!-- AI Coach (collapsed until clicked) -->
  <button id="coachToggle" class="coach-fab" title="AI Coach">🤖</button>
  <aside id="coachPanel" class="coach hidden">
    <div class="coach-head">
      <strong>AI Coach</strong>
      <button id="coachClose" class="btn ghost">✕</button>
    </div>
    <div id="coachBody" class="coach-body">Pick a niche then open me for 3 quick wins.</div>
  </aside>

  <!-- Debug (hidden until any error) -->
  <button id="debugFab" class="fab hidden" title="Debug">⚡</button>
  <aside id="debugPanel" class="dbg hidden">
    <div class="dbg-head">
      <strong>Debug Console</strong>
      <button id="debugClose" class="btn ghost">Close</button>
    </div>
    <div class="dbg-body">
      <table class="table compact">
        <thead><tr><th>Source</th><th>Status</th><th>Message</th></tr></thead>
        <tbody id="debugBody"></tbody>
      </table>
    </div>
  </aside>

  <!-- Source Control Drawer (hidden by default) -->
  <button id="sourcesBtn" class="fab gear" title="Sources">⚙️</button>
  <aside id="sourcesDrawer" class="drawer hidden">
    <div class="drawer-head">
      <strong>Source Control</strong>
      <button id="drawerClose" class="btn ghost">✕</button>
    </div>
    <div id="sourcesList" class="drawer-body"></div>
  </aside>

  <script src="/public/js/app.js"></script>
</body>
</html>
