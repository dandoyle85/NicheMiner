<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NicheMiner — Phase 9.2</</title>
  <link rel="stylesheet" href="/style.css"/>
</head>
<body>
  <div id="statusBar" class="statusbar">
    <div class="status-item" data-source="serpapi" title="Google Trends (SerpAPI)">SERP</div>
    <div class="status-item" data-source="google" title="Google Autocomplete">Google</div>
    <div class="status-item" data-source="amazon" title="Amazon Suggest">Amazon</div>
    <div class="status-item" data-source="reddit" title="Reddit Hot">Reddit</div>
    <div class="status-item" data-source="youtube" title="YouTube Autocomplete">YouTube</div>
    <div class="status-item" data-source="wiki" title="Wikipedia Trending">Wiki</div>
    <div class="status-item" data-source="pinterest" title="Pinterest Trends">Pinterest</div>
    <div class="status-spacer"></div>
    <button id="refreshAll" class="ghost small">↻ Refresh All</button>
  </div>

  <header class="topbar">
    <div class="brand"><span class="dot"></span> NicheMiner</div>
    <nav class="nav">
      <button data-tab="dashboard" class="active">Dashboard</button>
      <button data-tab="niches">Niches</button>
      <button data-tab="coach">AI Coach</button>
    </nav>
  </header>

  <main>
    <section id="dashboard" class="tab">
      <div class="panel"><h2>🏆 Empire Overview</h2></div>
    </section>

    <section id="niches" class="tab hidden">
      <div class="panel">
        <div class="row-between">
          <h2>🔥 Top 15 Profitable Niches (Live)</h2>
          <div class="inline"><span id="nicheStatus" class="status muted">Scanning…</span></div>
        </div>
        <table class="table" id="nicheTable">
          <thead><tr><th>#</th><th>Niche</th><th>Score</th><th>Buyer Intent</th><th>Competition</th><th>Trend</th><th></th></tr></thead>
          <tbody></tbody>
        </table>
        <div id="nicheEmpty" class="empty hidden">No niches yet.</div>
      </div>

      <div class="panel" id="drillPanel" hidden>
        <div class="row-between">
          <h2 id="drillTitle">🔎 Keyword Drilldown</h2>
          <div class="inline"><button id="openCoach" class="ghost small">Open AI Coach</button></div>
        </div>
        <table class="table" id="kwTable">
          <thead><tr><th>Keyword</th><th>Source</th><th>Volume</th><th>Competition</th><th>Trend</th><th>Save</th></tr></thead>
          <tbody></tbody>
        </table>
        <div id="kwEmpty" class="empty hidden">No keywords found.</div>
      </div>

      <aside class="sidebox">
        <div class="sidebox-head">
          <h3>GPT Assist</h3>
          <button id="genPrompt" class="ghost small">Generate Prompt</button>
        </div>
        <textarea id="gptPaste" rows="6" placeholder='Paste a Markdown table: "Keyword | Volume | CPC | Competition"'></textarea>
        <button id="importGpt" class="cta small">Import</button>
        <p class="muted tiny">Imported rows are tagged as <span class="badge gpt">GPT</span>.</p>
      </aside>
    </section>

    <section id="coach" class="tab hidden">
      <div class="panel"><h2>🤖 AI Coach</h2><div id="coachContent" class="coach-points"></div></div>
    </section>
  </main>

  <button id="debugToggle" class="debug-toggle hidden">⚡</button>
  <div id="debugPanel" class="debug-panel hidden">
    <div class="debug-head"><h4>Debug Console</h4><button id="debugClose" class="ghost small">✕</button></div>
    <table class="table compact"><thead><tr><th>Source</th><th>Status</th><th>Message</th></tr></thead><tbody id="debugBody"></tbody></table>
  </div>
  <script type="module" src="/index.js"></script>
</body>
</html>
